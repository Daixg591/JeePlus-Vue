(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-test-activiti-TestActivitiLeaveForm"],{2857:function(e,t,r){"use strict";var n=r("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("81f6")),a=n(r("2c3e")),s=r("d7d7"),u={data:function(){return{loading:!1,inputForm:{id:"",leaveType:"",startTime:(0,a.default)(new Date).format("YYYY-MM-DD"),endTime:(0,a.default)(new Date).format("YYYY-MM-DD"),reason:""}}},props:{businessId:{type:String,default:""},formReadOnly:{type:Boolean,default:!1}},components:{jpPicker:i.default},watch:{businessId:{handler:function(e){this.businessId?this.init(this.businessId):this.$nextTick((function(){}))},immediate:!0,deep:!1}},methods:{StartTimeChange:function(e){this.inputForm.startTime=e.detail.value},EndTimeChange:function(e){this.inputForm.endTime=e.detail.value},init:function(e){var t=this;e&&this.$http.get("/test/activiti/testActivitiLeave/queryById?id="+e).then((function(e){var r=e.data;t.inputForm=t.recover(t.inputForm,r.testActivitiLeave)}))},saveForm:function(e){var t=[{name:"leaveType",checkType:"notnull",checkRule:"",errorMsg:"类型不能为空"},{name:"startTime",checkType:"notnull",checkRule:"",errorMsg:"请假开始时间不能为空"},{name:"endTime",checkType:"notnull",checkRule:"",errorMsg:"请假结束时间不能为空"},{name:"reason",checkType:"notnull",checkRule:"",errorMsg:"请假事由不能为"}],r=this.inputForm,n=s.check(r,t);n?(uni.showLoading(),this.$http.post("/test/activiti/testActivitiLeave/save",this.inputForm).then((function(t){var r=t.data;r&&r.success&&e(r.businessTable,r.businessId)})).catch((function(e){}))):uni.showToast({title:s.error,icon:"none"})}}};t.default=u},"2c57":function(e,t,r){"use strict";r.r(t);var n=r("2857"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"4f4f":function(e,t,r){"use strict";var n,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("v-uni-picker",{attrs:{value:e.index,disabled:e.disabled,"range-value":e.rangeValue,"range-key":e.rangeKey,range:e.range},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.PickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.label))])],1)],1)},a=[];r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}))},"81f6":function(e,t,r){"use strict";r.r(t);var n=r("4f4f"),i=r("e7e8");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var s,u=r("f0c5"),o=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"5a954279",null,!1,n["a"],s);t["default"]=o.exports},a933:function(e,t,r){"use strict";var n={"jp-picker":r("81f6").default},i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",[r("v-uni-form",{ref:"inputForm",staticClass:"cu-list menu",on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"cu-form-group margin-top"},[r("v-uni-view",{staticClass:"title"},[r("v-uni-text",{staticClass:"red-color"},[e._v("*")]),e._v("类型")],1),r("jp-picker",{attrs:{disabled:e.formReadOnly,range:e.$dictUtils.getDictList("oa_leave_type")},model:{value:e.inputForm.leaveType,callback:function(t){e.$set(e.inputForm,"leaveType",t)},expression:"inputForm.leaveType"}},[r("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.$dictUtils.getDictLabel("oa_leave_type",e.inputForm.leaveType,"请选择")))])],1)],1),r("v-uni-view",{staticClass:"cu-form-group"},[r("v-uni-view",{staticClass:"title"},[e._v("请假开始时间")]),r("v-uni-picker",{attrs:{mode:"date",value:e.inputForm.startTime,disabled:e.formReadOnly},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.StartTimeChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.inputForm.startTime))])],1)],1),r("v-uni-view",{staticClass:"cu-form-group"},[r("v-uni-view",{staticClass:"title"},[e._v("请假结束时间")]),r("v-uni-picker",{attrs:{mode:"date",value:e.inputForm.endTime,disabled:e.formReadOnly},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.EndTimeChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"picker"},[e._v(e._s(e.inputForm.endTime))])],1)],1),r("v-uni-view",{staticClass:"cu-form-group"},[r("v-uni-view",{staticClass:"title"},[r("v-uni-text",{staticClass:"red-color"},[e._v("*")]),e._v("请假事由")],1),r("v-uni-textarea",{attrs:{maxlength:"2000",disabled:e.formReadOnly,name:"reason",placeholder:"请填写内容"},model:{value:e.inputForm.reason,callback:function(t){e.$set(e.inputForm,"reason",t)},expression:"inputForm.reason"}})],1)],1)],1)},a=[];r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return n}))},aa04:function(e,t,r){"use strict";r("4de4"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{index:-1,label:"请选择"}},props:{value:String,rangeKey:{type:String,default:"label"},rangeValue:{type:String,default:"value"},range:{type:Array,default:[]},disabled:{type:Boolean,default:!1}},mounted:function(){},watch:{value:{handler:function(e){if(e){var t=this.range.filter((function(t){return t.value===e}));0===t.length?this.label="请选择":this.label=t[0][this.rangeKey]}},immediate:!0,deep:!1}},methods:{PickerChange:function(e){this.index=e.detail.value,-1!==this.index?(this.label=this.range[this.index][this.rangeKey],this.$emit("input",this.range[this.index][this.rangeValue])):(this.label="请选择",this.$emit("input",null))}}};t.default=n},b31a:function(e,t,r){"use strict";var n=r("b955"),i=r.n(n);i.a},b955:function(e,t,r){var n=r("ed1d");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=r("4f06").default;i("25c1be68",n,!0,{sourceMap:!1,shadowMode:!1})},d3ce:function(e,t,r){"use strict";r.r(t);var n=r("a933"),i=r("2c57");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);r("b31a");var s,u=r("f0c5"),o=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"d2d2350e",null,!1,n["a"],s);t["default"]=o.exports},d7d7:function(e,t,r){r("4160"),r("c975"),r("a9e3"),r("4d63"),r("ac1f"),r("25f0"),r("1276"),r("159b"),e.exports={error:"",check:function(e,t){for(var r=this,n=function(){if(!t[i].checkType)return{v:!0};if(!t[i].name)return{v:!0};if(!t[i].errorMsg)return{v:!0};var n=e;if(t[i].name.split(".").forEach((function(e){n=n[e]})),!n)return r.error=t[i].errorMsg,{v:!1};switch(t[i].checkType){case"string":if(s=new RegExp("^.{"+t[i].checkRule+"}$"),!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"int":if(s=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[i].checkRule+"}$"),!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"between":if(!r.isNumber(n))return r.error=t[i].errorMsg,{v:!1};if(a=t[i].checkRule.split(","),a[0]=Number(a[0]),a[1]=Number(a[1]),n>a[1]||n<a[0])return r.error=t[i].errorMsg,{v:!1};break;case"betweenD":if(s=/^-?[1-9][0-9]?$/,!s.test(n))return r.error=t[i].errorMsg,{v:!1};if(a=t[i].checkRule.split(","),a[0]=Number(a[0]),a[1]=Number(a[1]),n>a[1]||n<a[0])return r.error=t[i].errorMsg,{v:!1};break;case"betweenF":if(s=/^-?[0-9][0-9]?.+[0-9]+$/,!s.test(n))return r.error=t[i].errorMsg,{v:!1};if(a=t[i].checkRule.split(","),a[0]=Number(a[0]),a[1]=Number(a[1]),n>a[1]||n<a[0])return r.error=t[i].errorMsg,{v:!1};break;case"same":if(n!=t[i].checkRule)return r.error=t[i].errorMsg,{v:!1};break;case"notsame":if(n==t[i].checkRule)return r.error=t[i].errorMsg,{v:!1};break;case"email":if(s=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"phone":if(s=/^1[0-9]{10,10}$/,!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"url":if(s=/^http[s]?:\/\/.*/,!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"zipcode":if(s=/^[0-9]{6}$/,!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"reg":if(s=new RegExp(t[i].checkRule),!s.test(n))return r.error=t[i].errorMsg,{v:!1};break;case"in":if(-1==t[i].checkRule.indexOf(n))return r.error=t[i].errorMsg,{v:!1};break;case"notnull":if(null==n||n.length<1)return r.error=t[i].errorMsg,{v:!1};break}},i=0;i<t.length;i++){var a,s,u=n();if("object"===typeof u)return u.v}return!0},checkFormData:function(e){for(i=0;i<e.length;i++){var t=e[i],r=t.name,n=t.value;if(t.readable&&t.writable){if(t.options.required&&(null==n||n.length<1))return r+": "+(t.options.requiredMessage||"必填项不能为空!");if(t.options.dataType&&t.options.dataTypeCheck)switch(t.options.dataType){case"number":var a=/^-?[0-9]+(\.\d+)?$/;if(!a.test(n))return r+": "+t.options.dataTypeMessage;break;case"integer":if(!/^0$/.test(n)&&!/^(-[1-9]|[1-9])[0-9]*$/.test(n))return r+": "+t.options.dataTypeMessage;break;case"float":/^\d+(\.\d+)?$/.test(n),0;break;case"url":a=/^http[s]?:\/\/.*/;if(!a.test(n))return r+": "+t.options.dataTypeMessage;break;case"email":a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((.[a-zA-Z0-9_-]{2,3}){1,2})$/;if(!a.test(n))return r+": "+t.options.dataTypeMessage;break;case"hex":a=/^[0-9a-fA-F]{1,3}$/;if(!a.test(n))return r+": "+t.options.dataTypeMessage;break}if(t.options.pattern&&t.options.patternMessage&&t.options.patternCheck){a=new RegExp(t.options.pattern);if(!a.test(n))return r+": "+t.options.patternMessage}}}return""},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},e7e8:function(e,t,r){"use strict";r.r(t);var n=r("aa04"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},ed1d:function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,".cu-form-group .title[data-v-d2d2350e]{min-width:calc(4em + 40px)}",""]),e.exports=t}}]);
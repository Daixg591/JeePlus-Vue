(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-apps-notification-oaNotifyForm"],{"10ac":function(t,e,i){"use strict";var a=i("c273"),n=i.n(a);n.a},"23e4":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".cu-form-group .title[data-v-72e7f395]{min-width:calc(4em + 30px)}",""]),t.exports=e},"40d5":function(t,e,i){"use strict";var a={"jp-picker":i("81f6").default,"jp-radio-group":i("1c4d").default,"user-select":i("e812").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-blue",isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.titile))])],2),i("v-uni-form",{staticClass:"cu-list menu",on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.formSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"red-color "},[t._v("*")]),t._v("类型")],1),i("jp-picker",{attrs:{rangeKey:"label",rangeValue:"value",range:t.$dictUtils.getDictList("oa_notify_type")},model:{value:t.inputForm.type,callback:function(e){t.$set(t.inputForm,"type",e)},expression:"inputForm.type"}},[i("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.$dictUtils.getDictLabel("oa_notify_type",t.inputForm.type,"请选择")))])],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"red-color "},[t._v("*")]),t._v("标题")],1),i("v-uni-input",{attrs:{placeholder:"请输入标题",maxlength:"200",name:"title"},model:{value:t.inputForm.title,callback:function(e){t.$set(t.inputForm,"title",e)},expression:"inputForm.title"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"red-color "},[t._v("*")]),t._v("内容")],1),i("v-uni-textarea",{attrs:{maxlength:"2000",name:"content",placeholder:"请填写内容"},model:{value:t.inputForm.content,callback:function(e){t.$set(t.inputForm,"content",e)},expression:"inputForm.content"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"red-color "},[t._v("*")]),t._v("状态")],1),i("jp-radio-group",{model:{value:t.inputForm.status,callback:function(e){t.$set(t.inputForm,"status",e)},expression:"inputForm.status"}},t._l(t.$dictUtils.getDictList("oa_notify_status"),(function(e){return i("v-uni-radio",{key:e.id,staticClass:"blue radio status",class:t.inputForm.status==e.value?"checked":"",attrs:{value:e.value,checked:t.inputForm.status==e.value}},[t._v(t._s(e.label))])})),1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-text",{staticClass:"red-color "},[t._v("*")]),t._v("选择人员")],1),i("user-select",{model:{value:t.inputForm.oaNotifyRecordIds,callback:function(e){t.$set(t.inputForm,"oaNotifyRecordIds",e)},expression:"inputForm.oaNotifyRecordIds"}})],1),i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-button",{staticClass:"cu-btn block bg-blue margin-tb-sm lg",attrs:{"form-type":"submit"}},[t._v("提交")])],1)],1)],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},"40fe":function(t,e,i){"use strict";i.r(e);var a=i("40d5"),n=i("ccdc");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("10ac");var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"72e7f395",null,!1,a["a"],s);e["default"]=r.exports},"51a2":function(t,e,i){"use strict";var a=i("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("c964")),o=a(i("e812")),s=a(i("1c4d")),c=(a(i("81f6")),i("d7d7")),r={onShow:function(){var t=this;this.$auth.checkLogin(),this.$http.get("/app/sys/user/treeData").then((function(e){var i=e.data;t.data=i.treeData})).catch((function(t){throw t}))},onLoad:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!t||!t.id){i.next=7;break}return e.titile="编辑通知",i.next=4,e.$http.get("/app/notify/oaNotify/queryById?isSelf=false&id="+t.id);case 4:a=i.sent,n=a.data,e.inputForm=e.recover(e.inputForm,n.oaNotify);case 7:case"end":return i.stop()}}),i)})))()},components:{userSelect:o.default,elRadioGroup:s.default,jpPicker:jpPicker},data:function(){return{loading:!1,expandOnCheckNode:!1,data:[],defaultProps:{children:"children",label:"label"},index:-1,titile:"新建通知",modalName:"",oaNotifyRecordNames:"",imgList:[],inputForm:{id:"",type:"",title:"",content:"",files:"",status:"",oaNotifyRecordIds:""}}},methods:{formSubmit:function(t){var e=[{name:"type",checkType:"notnull",checkRule:"",errorMsg:"类型不能为空"},{name:"title",checkType:"notnull",checkRule:"",errorMsg:"标题不能为空"},{name:"content",checkType:"notnull",checkRule:"",errorMsg:"内容不能为空"},{name:"status",checkType:"notnull",checkRule:"",errorMsg:"状态不能为空"},{name:"oaNotifyRecordIds",checkType:"notnull",checkRule:"",errorMsg:"候选人不能为空"}],i=this.inputForm,a=c.check(i,e);a?(uni.showLoading(),this.$http.post("/app/notify/oaNotify/save",this.inputForm).then((function(t){var e=t.data;uni.showToast({title:e.msg,icon:"success"}),uni.navigateTo({url:"/pages/apps/notification/notification?tabIndex=1"})})).catch((function(t){}))):uni.showToast({title:c.error,icon:"none"})}}};e.default=r},c273:function(t,e,i){var a=i("23e4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("43005d79",a,!0,{sourceMap:!1,shadowMode:!1})},ccdc:function(t,e,i){"use strict";i.r(e);var a=i("51a2"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);
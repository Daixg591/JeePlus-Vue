(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-workbench-task-ApplyList"],{"15b8":function(t,e,n){(function(e){n("efe9"),n("99af"),n("d3b7"),n("25f0");var i=1/0,o=9007199254740991,a="[object Arguments]",r="[object Function]",s="[object GeneratorFunction]",c="[object Symbol]",l="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,f=l||u||Function("return this")();function d(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function h(t,e){var n=-1,i=t?t.length:0,o=Array(i);while(++n<i)o[n]=e(t[n],n,t);return o}function v(t,e){var n=-1,i=e.length,o=t.length;while(++n<i)t[o+n]=e[n];return t}var p=Object.prototype,m=p.hasOwnProperty,b=p.toString,w=f.Symbol,y=p.propertyIsEnumerable,g=w?w.isConcatSpreadable:void 0,x=Math.max;function k(t,e,n,i,o){var a=-1,r=t.length;n||(n=_),o||(o=[]);while(++a<r){var s=t[a];e>0&&n(s)?e>1?k(s,e-1,n,i,o):v(o,s):i||(o[o.length]=s)}return o}function T(t,e){return t=Object(t),I(t,e,(function(e,n){return n in t}))}function I(t,e,n){var i=-1,o=e.length,a={};while(++i<o){var r=e[i],s=t[r];n(s,r)&&(a[r]=s)}return a}function C(t,e){return e=x(void 0===e?t.length-1:e,0),function(){var n=arguments,i=-1,o=x(n.length-e,0),a=Array(o);while(++i<o)a[i]=n[e+i];i=-1;var r=Array(e+1);while(++i<e)r[i]=n[i];return r[e]=a,d(t,this,r)}}function _(t){return j(t)||D(t)||!!(g&&t&&t[g])}function S(t){if("string"==typeof t||M(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function D(t){return $(t)&&m.call(t,"callee")&&(!y.call(t,"callee")||b.call(t)==a)}var j=Array.isArray;function E(t){return null!=t&&B(t.length)&&!O(t)}function $(t){return R(t)&&E(t)}function O(t){var e=N(t)?b.call(t):"";return e==r||e==s}function B(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function R(t){return!!t&&"object"==typeof t}function M(t){return"symbol"==typeof t||R(t)&&b.call(t)==c}var W=C((function(t,e){return null==t?{}:T(t,h(k(e,1),S))}));t.exports=W}).call(this,n("c8ba"))},"186d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{mescroll:null}},onPullDownRefresh:function(){this.mescroll&&this.mescroll.onPullDownRefresh()},onPageScroll:function(t){this.mescroll&&this.mescroll.onPageScroll(t)},onReachBottom:function(){this.mescroll&&this.mescroll.onReachBottom()},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef()},mescrollInitByRef:function(){if(!this.mescroll||!this.mescroll.resetUpScroll){var t=this.$refs.mescrollRef;t&&(this.mescroll=t.mescroll)}},downCallback:function(){var t=this;this.mescroll.optUp.use?this.mescroll.resetUpScroll():setTimeout((function(){t.mescroll.endSuccess()}),500)},upCallback:function(){var t=this;setTimeout((function(){t.mescroll.endErr()}),500)}},mounted:function(){this.mescrollInitByRef()}},o=i;e.default=o},"4e07":function(t,e,n){"use strict";n.r(e);var i=n("a435"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"612c":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{i:Number,index:{type:Number,default:function(){return 0}}},data:function(){return{downOption:{auto:!1},upOption:{auto:!1},isInit:!1}},watch:{index:function(t){this.i!==t||this.isInit||(this.isInit=!0,this.mescroll&&this.mescroll.triggerDownScroll())}},methods:{mescrollInit:function(t){this.mescroll=t,this.mescrollInitByRef&&this.mescrollInitByRef(),this.i===this.index&&(this.isInit=!0,this.mescroll.triggerDownScroll())}}},o=i;e.default=o},"647d":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,".ellipsis-description[data-v-8ee6a5d4]{font-size:12px;line-height:$line-height-base;display:-webkit-box;/*作为弹性伸缩盒子模型显示*/-webkit-line-clamp:1; /*显示的行数；如果要设置2行加...则设置为2*/overflow:hidden; /*超出的文本隐藏*/text-overflow:ellipsis; /* 溢出用省略号*/-webkit-box-orient:vertical/*伸缩盒子的子元素排列：从上到下*/}.cu-list.menu-avatar>.cu-item .content[data-v-8ee6a5d4]{position:absolute;left:29px;width:calc(100% - 77px);line-height:1.6em}.cu-bar .search-form[data-v-8ee6a5d4]{background-color:#fff}.cu-list>.cu-item .move[data-v-8ee6a5d4]{width:240px}.cu-list>.cu-item.move-cur[data-v-8ee6a5d4]{-webkit-transform:translateX(-240px);transform:translateX(-240px)}",""]),t.exports=e},a1e4:function(t,e,n){"use strict";var i=n("b179"),o=n.n(i);o.a},a435:function(t,e,n){"use strict";var i=n("ee27");n("99af"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("f3f3")),a=i(n("186d")),r=i(n("612c")),s=i(n("15b8")),c={mixins:[a.default,r.default],props:{i:Number,index:{type:Number,default:function(){return 0}},tabs:{type:Array,default:function(){return[]}}},data:function(){return{upOption:{noMoreSize:3,empty:{tip:"~ 搜索无结果 ~"}},CustomBar:this.CustomBar,list:[],modalName:null,curWord:""}},methods:{inputWord:function(t){var e=this;this.searchTimer&&clearTimeout(this.searchTimer),this.searchTimer=setTimeout((function(){e.doSearch(e.curWord)}),300)},doSearch:function(t){this.curWord=t,this.list=[],this.mescroll.resetUpScroll()},upCallback:function(t){var e=this;this.$http.get("/app/flowable/task/myApplyed",{pageNo:t.num,pageSize:t.size,title:this.curWord}).then((function(n){var i=n.data,o=i.page.list;e.mescroll.endBySize(o.length,i.page.count),1==t.num&&(e.list=[]),e.list=e.list.concat(o)})).catch((function(t){e.mescroll.endErr()}))},callback:function(t){var e=this;uni.showModal({title:"提示",content:"确定要撤销该流程吗？",success:function(n){n.confirm?e.$http.delete("/app/flowable/process/deleteProcIns?ids="+t.processInstanceId+"&reason=用户撤销").then((function(t){var n=t.data;n&&n.success&&(uni.showToast({title:n.msg}),e.doSearch(e.curWord))})):n.cancel&&uni.hideLoading()},fail:function(){}})},urge:function(t){uni.showToast({title:"催办成功!"})},toDetail:function(t){this.$http.get("/app/flowable/task/getTaskDef",{procInsId:t.processInstanceId,procDefId:t.processDefinitionId}).then((function(e){var n=e.data;if(n.success){var i=(0,o.default)({readOnly:!0,title:t.vars.title,formTitle:t.vars.title},(0,s.default)(n.flow,"formType","formUrl","procDefKey","taskDefKey","procInsId","procDefId","taskId","status","title","businessId"));uni.navigateTo({url:"/pages/workbench/task/TaskFormDetail?flow="+JSON.stringify(i)})}}))},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>-60?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null}}};e.default=c},af83:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("cu-custom",{attrs:{bgColor:"bg-blue",backUrl:"/pages/index/index",isBack:!0}},[n("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),n("template",{attrs:{slot:"content"},slot:"content"},[t._v("我发起的")])],2),n("v-uni-view",{style:[{top:t.CustomBar+"px"}]},[n("v-uni-view",{staticClass:"cu-bar search"},[n("v-uni-view",{staticClass:"search-form bg-white round"},[n("v-uni-text",{staticClass:"cuIcon-search"}),n("v-uni-input",{attrs:{type:"text",placeholder:"搜索","confirm-type":"search"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputWord.apply(void 0,arguments)}},model:{value:t.curWord,callback:function(e){t.curWord=e},expression:"curWord"}})],1)],1),n("mescroll-body",{ref:"mescrollRef",attrs:{up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"cu-list menu-avatar"},t._l(t.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"cu-item",class:t.modalName=="move-box-"+i?"move-cur":"",attrs:{"data-target":"move-box-"+i},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.ListTouchEnd.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"content",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toDetail(e)}}},[n("v-uni-view",{staticClass:"text-bold text-grey"},[n("v-uni-view",{staticClass:"ellipsis-description"},[t._v(t._s(e.vars.title))])],1),n("v-uni-view",{staticClass:"text-sm text-grey ellipsis-description"},[t._v(t._s(e.taskName))])],1),n("v-uni-view",{staticClass:"action",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toDetail(e)}}},[n("v-uni-view",{staticClass:"text-grey text-xs"},[t._v(t._s(t._f("formatDate")(e.startTime)))]),n("v-uni-view",{class:"text-"+e.level+" text-xs"},[t._v(t._s(e.status))])],1),n("v-uni-view",{staticClass:"move"},[1===e.code?n("v-uni-view",{staticClass:"bg-cyan",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.urge(e)}}},[t._v("催办")]):t._e(),1===e.code?n("v-uni-view",{staticClass:"bg-orange",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.callback(e)}}},[t._v("撤销")]):t._e(),n("v-uni-view",{staticClass:"bg-blue",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.toDetail(e)}}},[t._v("历史")])],1)],1)})),1)],1)],1)],1)},a=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},b179:function(t,e,n){var i=n("647d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("2a9190a0",i,!0,{sourceMap:!1,shadowMode:!1})},e54f:function(t,e,n){"use strict";n.r(e);var i=n("af83"),o=n("4e07");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("a1e4");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"8ee6a5d4",null,!1,i["a"],r);e["default"]=c.exports},efe9:function(t,e,n){var i=n("746f");i("isConcatSpreadable")}}]);